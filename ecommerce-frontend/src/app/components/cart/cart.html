< class="cart-container">
  <app-recommendations-list></app-recommendations-list>
  <h1 class="cart-title">Your Shopping Cart</h1>
  <p class="cart-subtitle">{{ items().length }} items</p>

  @if (items().length > 0) {
    <div class="cart-items">
      @for (item of items(); track item.product.id) {
        <div class="cart-item-card">
          <div class="item-info">
            <h3 class="item-name">{{ item.product.name }}</h3>
            <p class="item-price">‚Çπ{{ item.product.price | number:'1.2-2' }}</p>
          </div>
          <div class="item-actions">
            <div class="quantity-control">
              <button class="qty-btn" (click)="setQty(item, item.quantity - 1)">-</button>
              <span class="qty-display">{{ item.quantity }}</span>
              <button class="qty-btn" (click)="setQty(item, item.quantity + 1)">+</button>
            </div>
            <button class="remove-btn" (click)="removeFromCart(item)">
              <span class="trash-icon">üóëÔ∏è</span>
            </button>
          </div>
        </div>
      }
    </div>

    <div class="cart-summary">
      <p class="total">Total: ‚Çπ{{ total() | number:'1.2-2' }}</p>
      <div class="action-buttons">
        <button class="clear-btn" (click)="clearCart()">Clear Cart</button>
        <button class="checkout-btn" (click)="checkout()">Checkout</button>
      </div>
    </div>
  } @else {
    <div class="empty-cart">
      <p>Your cart is empty.</p>
      <a routerLink="/products" class="shop-link">Go shopping!</a>
    </div>
  }